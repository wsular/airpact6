Bootstrap: library
From: centos:7
Include: yum

%post
    yum -y install epel-release
    yum -y install bc
    yum -y install bison
    yum -y install bzip2
    yum -y install curl
    yum -y install cvs
    yum -y install ddd
    yum -y install dos2unix
    yum -y install file
    yum -y install flex
    yum -y install gcc
    yum -y install gcc-gfortran
    yum -y install gcc-c++
    yum -y install gd-devel
    yum -y install git
    yum -y install glibc-devel
    yum -y install gnuplot
    yum -y install hwloc hwloc-devel
    yum -y install ImageMagick
    yum -y install infiniband-diags-devel
    yum -y install jre
    yum -y install ksh
    yum -y install kate
    yum -y install lzma lzma-devel
    yum -y install man
    yum -y install motif
    yum -y install mpich mpich-devel
    yum -y install mvapich2 mvapich2-devel
    yum -y install nano
    yum -y install openmpi3 openmpi3-devel
    yum -y install rcs
    yum -y install subversion
    yum -y install tcsh
    yum -y install time
    yum -y install unix2dos
    yum -y install wget
    yum -y install xguest
    yum -y install zlib zlib-devel

    yum -y install grads
    yum -y install meld
    yum -y install ncarg
    yum -y install ncview
    yum -y install nco
    yum -y install nedit
    yum -y install netcdf
    yum -y install netcdf-devel
    yum -y install netcdf-static
    yum -y install netcdf-cxx
    yum -y install netcdf-cxx-devel
    yum -y install netcdf-cxx-static
    yum -y install netcdf-fortran
    yum -y install netcdf-fortran-devel
    yum -y install netcdf-fortran-static
    yum -y install netcdf4-python

    rpm -i -vv http://www.city-fan.org/ftp/contrib/yum-repo/rhel7/x86_64/xxdiff-4.0.1-1.0.cf.rhel7.x86_64.rpm

    mkdir /opt/bin
    mkdir /opt/share
    mkdir /opt/share/nedit
    mkdir /opt/source
        cd /opt/source
        cat >& xtitle.c  << HERE
#include <stdio.h>
main( int argc, char *argv[] )
    {
    if ( argc > 1 ) 
        {
        printf( "\033]1;%s\007", argv[1] ) ;
        printf( "\033]2;%s\007", argv[1] ) ;
        }
    else{
        printf( "\033]1;%s\007", "usage:  xtitle <title>" ) ;
        printf( "\033]2;%s\007", "usage:  xtitle <title>" ) ;
        }
    }
HERE
        cc -o /opt/bin/xtitle xtitle.c

    mkdir /opt/wgrib
        cd /opt/wgrib
        wget ftp://ftp.cpc.ncep.noaa.gov/wd51we/wgrib/wgrib.c
        cc -o /opt/bin/wgrib wgrib.c

%environment
    setenv PATH "/usr/sbin:/usr/bin:/usr/local/bin"
    setenv PERLLIB         ""
    setenv MANPATH         ""
    setenv LD_LIBRARY_PATH ""
    setenv LIBRARY_PATH    "/usr/lib:/usr/lib64:/usr/lib/gcc/x86_64-redhat-linux/"
    setenv PYTHONPATH      ""

%runscript
    echo "Container was created $NOW"
    echo "Arguments received: $*"
    exec echo "$@"

%startscript
    echo "Hello World!"

%test
    cat /etc/os-release

%labels
    Author Von P. Walden
    Version v0.0.1

%help
    This is a demo container used for AIRPACT-6 development.
